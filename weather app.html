<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Weather App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Baskervville+SC&family=Bree+Serif&family=Kaushan+Script&family=Lobster&family=Lora:ital,wght@0,400..700;1,400..700&family=Pirata+One&family=Protest+Guerrilla&family=Sacramento&family=Tangerine:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=air" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        footer {
            background-color: rgba(0, 0, 255, 0.833);
            color: white;
            padding: 20px;
            text-align: center;
            
            bottom: 0;
            width: 100%;
        }
        .pirata-one-regular {
  font-family: "Pirata One", system-ui;
  font-weight: 400;
  font-size: 30px;
  font-style: normal;
}
.tangerine-regular {
  font-family: "Tangerine", cursive;
  font-weight: 400;
  font-style: normal;
}

.tangerine-bold {
  font-family: "Tangerine", cursive;
  font-weight: 1000;
  font-size: 40px;
  font-style: normal;
}
.img-wind{
    width:80px;
    height:80px;
}
.roboto-slab {
  font-family: "Roboto Slab", serif;
  font-optical-sizing: auto;
  font-weight: 700;
  font-style: normal;
}


        .weather-icon {
            width: 80px;
            height: 80px;
        }
    </style>
</head>

<body onload="fetchWeather('Delhi')" class="roboto-slab">

    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand tangerine-bold" href="get.html">Wapp</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <!-- Add nav links here -->
                </ul>
            
                <!-- Responsive Form -->
                <div class="d-flex w-100 justify-content-lg-end justify-content-center">
                    <form class="d-flex w-100" style="max-width: 400px;" role="search">
                        <input class="form-control me-2" type="search" id="city-input" placeholder="Enter city name..." value="Delhi">
                        <button class="btn btn-outline-primary" type="button" onclick="fetchWeather()">Search</button>
                    </form>
                </div>
            </div>
            
            
            
            
            <!-- <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                   

                </ul>
                <form class="d-flex w-25" role="search">
                    <input class="form-control me-2"  type="search" id="city-input" placeholder="Enter city name..." value="Delhi">
                    <button class="btn btn-outline-primary" type="button" onclick="fetchWeather()">Search</button>
                </form>
            </div> -->
        </div>
    </nav>
   

    <h1 class="my-4 roboto-slab text-center">Weather for <span id="city">Delhi</span></h1>

    <div class="container">
        <main>
            <div class="row row-cols-1 row-cols-md-3 mb-3 text-center">
                <!-- Temperature -->
                <div class="col">
                    <div class="card mb-4 rounded-3 shadow-sm">
                        <div class="card-header py-3">
                            <h4 class="my-0 fw-normal">Temperature</h4>
                        </div>
                        <div class="card-body">
                            <img id="weather-icon" class="weather-icon" src="" alt="Weather Icon">
                            <h1 class="card-title pricing-card-title" id="current-temperature"></h1>
                            <ul class="list-unstyled mt-3 mb-4">
                                <li>Min Temperature: <span id="Min-Temperature"></span></li>
                                <li>Max Temperature: <span id="Max-Temperature"></span></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Humidity Info -->
                <div class="col">
                    <div class="card mb-4 rounded-3 shadow-sm">
                        <div class="card-header py-3">
                            <h4 class="my-0 fw-normal">Humidity Info</h4>
                        </div>
                        <div class="card-body">
                            <img id="humidity-icon" class="weather-icon" src="" alt="Humidity Icon">
                            <h1 class="card-title pricing-card-title" id="current-humidity"></h1>
                            <ul class="list-unstyled mt-3 mb-4">
                                <li>Wind Degree: <span id="wind-degree"></span></li>
                                <li>Feels Like: <span id="feels-like"></span></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Wind Info -->
                <div class="col">
                    <div class="card mb-4 rounded-3 shadow-sm border-primary">
                        <div class="card-header py-3 text-bg-primary border-primary">
                            <h4 class="my-0 fw-normal">Wind Info</h4>
                        </div>
                        <div class="card-body">
                            <img width="96" height="96" class="img-wind" src="https://img.icons8.com/color/96/wind.png" alt="wind"/>
                            <h1 class="card-title pricing-card-title" id="current-wind"></h1>
                            <ul class="list-unstyled mt-3 mb-4">
                                <li>Sunrise: <span id="sun-rise"></span></li>
                                <li>Sunset: <span id="sun-set"></span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <div class="container my-4">
        <h1 class="text-center">7 Day Weather Forecast</h1>
        <div class="row justify-content-center forecast-container">
            <!-- Forecast data will be dynamically added here -->
        </div>
    </div>
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
    <script>
        function fetchWeather(city = null) {
    if (!city) {
        city = document.getElementById('city-input').value.trim();
    }
    if (!city) {
        alert('Please enter a city name');
        return;
    }

    fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${city}?unitGroup=metric&key=QNHA8BAWA7ERBYE7VLE9C5JWD&contentType=json`)
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            if (!data || !data.currentConditions) {
                alert('Weather data unavailable.');
                return;
            }

            // Update current weather details
            document.getElementById('city').textContent = data.resolvedAddress.split(',')[0].trim();
            document.getElementById('current-temperature').textContent = (data.currentConditions.temp || "N/A") + "°C";
            document.getElementById('current-humidity').textContent = (data.currentConditions.humidity || "N/A") + "%";
            document.getElementById('Max-Temperature').textContent = (data.days[0]?.tempmax || "N/A") + "°C";
            document.getElementById('Min-Temperature').textContent = (data.days[0]?.tempmin || "N/A") + "°C";
            document.getElementById('feels-like').textContent = (data.currentConditions.feelslike || "N/A") + "°C";
            document.getElementById('wind-degree').textContent = (data.currentConditions.winddir || "N/A") + "°";
            document.getElementById('current-wind').textContent = ((data.currentConditions.windspeed * 1.60934).toFixed(2) || "N/A") + " km/h";
            document.getElementById('sun-rise').textContent = data.currentConditions.sunrise || "N/A";
            document.getElementById('sun-set').textContent = data.currentConditions.sunset || "N/A";

            // Set icons based on temperature
            let temperature = data.currentConditions.temp || 0;
            document.getElementById('weather-icon').src = temperature <= 10 
                ? "https://cdn-icons-png.flaticon.com/128/4834/4834551.png" 
                : temperature <= 25 
                    ? "https://cdn-icons-png.flaticon.com/128/869/869869.png" 
                    : "https://cdn-icons-png.flaticon.com/128/890/890347.png";

            document.getElementById('humidity-icon').src = "https://cdn-icons-png.flaticon.com/128/728/728093.png";

            // Generate 7-day forecast dynamically
            const forecastContainer = document.querySelector('.forecast-container');
            forecastContainer.innerHTML = ''; // Clear previous content

            data.days.slice(0, 7).forEach((day, index) => {
                let cardHTML = `
                    <div class="col-md-6 col-lg-4 mb-3">
                        <div class="card border-primary">
                            <div class="bg-primary text-white card-header">
                                Date: ${new Date(day.datetime).toDateString()}
                            </div>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">Temperature: ${day.temp || "N/A"}°C</li>
                                <li class="list-group-item">Humidity: ${day.humidity || "N/A"}%</li>
                                <li class="list-group-item">Wind Speed: ${(day.windspeed * 1.60934).toFixed(2) || "N/A"} km/h</li>
                                <li class="list-group-item">Conditions: ${day.conditions || "N/A"}</li>
                            </ul>
                        </div>
                    </div>
                `;
                forecastContainer.innerHTML += cardHTML;
            });

        })
        .catch(error => {
            console.error('Fetch error:', error);
            alert('Could not fetch weather data. Please try again.');
        });
}

    </script>

    <footer>
        <p>&copy; Wapp Inc. All rights reserved.</p>
    </footer>
</body>

</html>
